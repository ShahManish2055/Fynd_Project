const mongodb=require("mongodb");

const url="mongodb://localhost:27017";

const client=new mongodb.mongoClient(url);

async function run(){
    try{
        await client.connect();
        const UserCollection=client.db("socialApp").collection("users");
        const cursor=UserCollection.find({});
        await cursor.forEach((docs)=>{
        console.log(docs);
        });

        // console.log("Aggregation query");

        // const aggregate=UserCollection.aggregate([
        //     {
        //         $lookup:{
        //             from:"posts",
        //             localField:"postid",
        //             foreignField:"postid",
        //             as:"user_posts",

        //         }
        //     }
        // ])
    }

    catch (e) {
        console.error(e);
      } finally {
        await client.close();//wait
      }
}